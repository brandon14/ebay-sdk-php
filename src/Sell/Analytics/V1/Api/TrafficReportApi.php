<?php

/**
 * This file is part of the brandon14/ebay-sdk-php package.
 *
 * MIT License
 *
 * Copyright (c) 2022 Brandon Clothier
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */

declare(strict_types=1);

/**
 * TrafficReportApi.
 *
 * PHP version ^7.2 || ^8.0
 *
 * @category Class
 *
 * @author   OpenAPI Generator team
 *
 * @see     https://openapi-generator.tech
 */

/**
 * Seller Service Metrics API.
 *
 * The <i>Analytics API</i> provides data and information about a seller and their eBay business.  <br><br>The resources and methods in this API let sellers review information on their listing performance, metrics on their customer service performance, and details on their eBay seller performance rating.  <br><br>The three resources in the Analytics API provide the following data and information: <ul><li><b>Customer Service Metric</b> &ndash; Returns benchmark data and a metric rating pertaining to a seller's customer service performance as compared to other seller's in the same peer group.</li> <li><b>Traffic Report</b> &ndash; Returns data and information that shows how buyers are engaging with a seller's listings.</li> <li><b>Seller Standards Profile</b> &ndash; Returns information pertaining to a seller's profile rating.</li></ul> Sellers can use the data and information returned by the various Analytics API methods to determine where they can make improvements to increase sales and how they might improve their seller status as viewed by eBay buyers.  <br><br>For details on using this API, see <a href=\"/api-docs/sell/static/performance/analyzing-performance.html\" title=\"Selling Integration Guide\">Analyzing seller performance</a>.
 *
 * The version of the OpenAPI document: 1.3.0
 * Generated by: https://openapi-generator.tech
 * OpenAPI Generator version: 5.4.0
 */

/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

namespace TNT\Ebay\Sell\Analytics\V1\Api;

use GuzzleHttp\Client;
use GuzzleHttp\Psr7\Request;
use GuzzleHttp\RequestOptions;
use GuzzleHttp\ClientInterface;
use GuzzleHttp\Psr7\MultipartStream;
use GuzzleHttp\Exception\ConnectException;
use GuzzleHttp\Exception\RequestException;
use TNT\Ebay\Sell\Analytics\V1\ApiException;
use TNT\Ebay\Sell\Analytics\V1\Configuration;
use TNT\Ebay\Sell\Analytics\V1\HeaderSelector;
use TNT\Ebay\Sell\Analytics\V1\ObjectSerializer;

/**
 * TrafficReportApi Class Doc Comment.
 *
 * @category Class
 *
 * @author   OpenAPI Generator team
 *
 * @see     https://openapi-generator.tech
 */
class TrafficReportApi
{
    /**
     * @var ClientInterface
     */
    protected $client;

    /**
     * @var Configuration
     */
    protected $config;

    /**
     * @var HeaderSelector
     */
    protected $headerSelector;

    /**
     * @var int Host index
     */
    protected $hostIndex;

    /**
     * @param ClientInterface $client
     * @param Configuration   $config
     * @param HeaderSelector  $selector
     * @param int             $hostIndex (Optional) host index to select the list of hosts if defined in the OpenAPI spec
     */
    public function __construct(
        ClientInterface $client = null,
        Configuration $config = null,
        HeaderSelector $selector = null,
        $hostIndex = 0
    ) {
        $this->client = $client ?: new Client();
        $this->config = $config ?: new Configuration();
        $this->headerSelector = $selector ?: new HeaderSelector();
        $this->hostIndex = $hostIndex;
    }

    /**
     * Set the host index.
     *
     * @param int $hostIndex Host index (required)
     */
    public function setHostIndex($hostIndex): void
    {
        $this->hostIndex = $hostIndex;
    }

    /**
     * Get the host index.
     *
     * @return int Host index
     */
    public function getHostIndex()
    {
        return $this->hostIndex;
    }

    /**
     * @return Configuration
     */
    public function getConfiguration()
    {
        return $this->config;
    }

    /**
     * Operation getTrafficReport.
     *
     * @param string $dimension This query parameter specifies the &lt;i&gt;dimension&lt;/i&gt;, or \&quot;attribute,\&quot; that is applied to the report &lt;b&gt;metric&lt;/b&gt;.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;code&gt;DAY&lt;/code&gt; or &lt;code&gt;LISTING&lt;/code&gt;  &lt;br&gt;&lt;br&gt;&lt;b&gt;Examples&lt;/b&gt; &lt;ul&gt;&lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;DAY&lt;/code&gt; and &lt;code&gt;metric&#x3D;CLICK_THROUGH_RATE&lt;/code&gt;, the traffic report contains the number of times an item displayed on a search results page and the buyer clicked through to the View Item page for each day in the date range, as in: &lt;br&gt;&lt;code&gt;12-06-17: 32, 12-07-17: 54, ...&lt;/code&gt;&lt;/li&gt; &lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;LISTING&lt;/code&gt; and &lt;code&gt;metric&#x3D;LISTING_IMPRESSION_STORE&lt;/code&gt;, the traffic report contains the number of times that listing appeared on the seller&#39;s store during the specified date range. &lt;br&gt;&lt;br&gt;For example, &lt;code&gt;LISTING_IMPRESSION_STORE: 157&lt;/code&gt; means the item appeared 157 times in the store during the date range.&lt;/li&gt;&lt;/ul&gt; &lt;!-- Dimension - Enables user to specify input to slice the data that the user is interested in - For example specify listing and days as dimensions to get traffic report for all the sellers listings grouped by listing and days. Refer to DimensionEnum) --&gt; (optional)
     * @param string $filter    This query parameter refines the information returned in the traffic report.  &lt;br&gt;&lt;br&gt;Configure the following properties of the &lt;b&gt;filter&lt;/b&gt; parameter to tune the traffic report to your needs: &lt;ul&gt; &lt;li&gt;&lt;b&gt;date_range&lt;/b&gt; &lt;br&gt;Limits the report to the specified range of dates.  &lt;br&gt;&lt;br&gt;Format the date range by enclosing the earliest date and end date for the report in brackets (\&quot;&lt;code&gt;[ ]&lt;/code&gt;\&quot;), as follows: &lt;br&gt;&lt;code&gt;[YYYYMMDD..YYYYMMDD]&lt;/code&gt;  &lt;br&gt;&lt;br&gt;The maximum range between the start and end dates is 90 days, and the earliest start date you can specify is two years prior to the current date, which is defined as 730 days (365 &amp;#42; 2), not accounting for Leap Year.  &lt;br&gt;&lt;br&gt;&lt;a name&#x3D;\&quot;lastUDate\&quot;&gt;&lt;/a&gt;The last date for which traffic data exists is a value called &lt;b&gt;lastUpdatedDate&lt;/b&gt;. eBay returns an error if you specify a date range greater than 90 days, or the start date is after the lastUpdatedDate. If the specified end date is beyond the lastUpdatedDate, eBay returns data up to the lastUpdatedDate.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Required:&lt;/b&gt; Always&lt;/li&gt; &lt;li&gt;&lt;b&gt;listing_ids&lt;/b&gt; &lt;br&gt;This filter limits the results to only the supplied list of &lt;b&gt;listingId&lt;/b&gt; values. &lt;br&gt;&lt;br&gt;You can specify to 200 different &lt;b&gt;listingId&lt;/b&gt; values. Enclose the list of IDs with curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;), and separate multiple values with a pipe character (\&quot;&lt;code&gt;|&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;This filter only returns data for listings that have been either active or sold in last 90 days, and any unsold listings in the last 30 days. All listings must be the seller&#39;s and they  must be listed on the marketplace specified by the &lt;b&gt;marketplace_ids&lt;/b&gt; filter argument.&lt;/li&gt; &lt;li&gt;&lt;b&gt;marketplace_ids&lt;/b&gt; &lt;br&gt;This filter limits the report to seller data related to only the specified marketplace ID (currently the filter allows only a single marketplace ID). Enclose the marketplace ID in curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;ul class&#x3D;\&quot;compact\&quot;&gt;&lt;li&gt;&lt;code&gt;EBAY_AU&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_DE&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_GB&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_US&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_MOTORS&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Required if&lt;/b&gt; you set the &lt;b&gt;dimension&lt;/b&gt; parameter to &lt;code&gt;DAY&lt;/code&gt;.&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Example filter parameter&lt;/b&gt; &lt;br&gt;The following example shows how to configure the &lt;b&gt;filter&lt;/b&gt; parameter with the &lt;b&gt;marketplace_ids&lt;/b&gt; and &lt;b&gt;date_range&lt;/b&gt; filters: &lt;p&gt;&lt;code&gt;filter&#x3D;marketplace_ids:{EBAY_US},date_range:[20170601..20170828]&lt;/code&gt; &lt;p&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note: &lt;/b&gt; You must URL encode all the values you supply in the &lt;b&gt;filter&lt;/b&gt; parameter, as described in &lt;a href&#x3D;\&quot;/api-docs/static/rest-request-components.html#parameters\&quot;&gt;URL parameters&lt;/a&gt;.&lt;/span&gt;&lt;/p&gt; &lt;!-- **Filter results based on the specified filter parameters- window_days (WindowDaysEnum), date_range, marketplace_id (MarketplaceIdEnum - Only EBAY_US, EBAY_MOTORS_US, EBAY_GB, EBAY_AU, EBAY_DE are supported), listing_ids, traffic_source (Takes a list. Supported values: ORGANIC, PROMOTED_LISTINGS). Valid filters come from QueryParamEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:FilterField (optional)
     * @param string $metric    &lt;a name&#x3D;\&quot;metrics\&quot;&gt;&lt;/a&gt;This query parameter specifies the metrics you want covered in the report.  &lt;br&gt;&lt;br&gt;Specify a comma-separated list of the metrics you want included in the report.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt;&lt;ul&gt; &lt;li&gt;&lt;b&gt;CLICK_THROUGH_RATE&lt;/b&gt;  &lt;br&gt;The number of times an item displays on the search results page divided by the number of times buyers clicked through to its View Item page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Click through rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;/b&gt; &lt;br&gt;The number of times the seller&#39;s listings displayed on the search results page. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_STORE &lt;/b&gt; &lt;br&gt; The number of times the seller&#39;s listings displayed on the seller&#39;s store. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_TOTAL&lt;/b&gt;  &lt;br&gt; The total number of times the seller&#39;s listings displayed on the search results page OR in the seller&#39;s store. The item is counted each time it displays on either page. However, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;This is a combination of:  LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;b&gt;+&lt;/b&gt; LISTING_IMPRESSION_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total listing impressions&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; &lt;br&gt; The number of times a View Item page was directly accessed, such as when a buyer navigates to the page using a bookmark.&lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Direct views&lt;/li&gt; &lt;li&gt;&lt;b&gt; LISTING_VIEWS_SOURCE_OFF_EBAY&lt;/b&gt;  &lt;br&gt;The number of times a View Item page was accessed via a site other than eBay, such as when a buyer clicks on a link to the listing from a search engine page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Off eBay views&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed from an eBay page that is not either the search results page or the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt;Views from non-search and non-store pages within eBay&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE&lt;/b&gt;  &lt;br&gt; The number of times the item displayed on the search results page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views on the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_STORE&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed via the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_TOTAL &lt;/b&gt; &lt;br&gt; Total number of listings viewed. &lt;br&gt;This number sums: &lt;br&gt;LISTING_VIEWS_SOURCE_DIRECT &lt;br&gt; LISTING_VIEWS_SOURCE_OFF_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE &lt;br&gt;LISTING_VIEWS_SOURCE_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total views&lt;/li&gt; &lt;li&gt;&lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; &lt;br&gt;The number of completed transactions divided by the number of View Item page views. Equals: &lt;br&gt;TRANSACTION &lt;b&gt;/&lt;/b&gt; LISTING_VIEWS_TOTAL &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Sales conversion rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;TRANSACTION&lt;/b&gt;  &lt;br&gt;The total number of completed transactions. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Transaction count&lt;/li&gt;&lt;/ul&gt; &lt;!-- Metric - Lets the user specify the list of fields that they would like to see in the report. Allowed values: LISTING_IMPRESSION_SEARCH_RESULTS_PAGE, LISTING_IMPRESSION_STORE, LISTING_IMPRESSION_TOTAL, LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE, LISTING_VIEWS_SOURCE_STORE, LISTING_VIEWS_SOURCE_DIRECT, LISTING_VIEWS_SOURCE_OTHER_EBAY, LISTING_VIEWS_SOURCE_OFF_EBAY, LISTING_VIEWS_TOTAL, TRANSACTION_TOTAL, CLICK_THROUGH_RATE, SALES_CONVERSION_RATE (DataMetricEnum) --&gt; (optional)
     * @param string $sort      This query parameter sorts the report on the specified metric.  &lt;br&gt;&lt;br&gt;The metric you specify must be included in the configuration of the report&#39;s &lt;a href&#x3D;\&quot;#metrics\&quot;&gt;metric&lt;/a&gt; parameter.  &lt;br&gt;&lt;br&gt;Sorting is helpful when you want to review how a specific metric is performing, such as the CLICK_THROUGH_RATE.  &lt;br&gt;&lt;br&gt;Reports can be sorted in ascending or descending order. Precede the value of a descending-order request with a minus sign (\&quot;&lt;code&gt;-&lt;/code&gt;\&quot;), for example: &lt;code&gt;sort&#x3D;-CLICK_THROUGH_RATE&lt;/code&gt;.&lt;br /&gt;&lt;br /&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note:&lt;/b&gt; Beginning on October 4, 2021, the options for the following &lt;b&gt;metric&lt;/b&gt; inputs will change:&lt;ul&gt;&lt;li&gt;Sorting on the &lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; metric will no longer be supported&lt;/li&gt;&lt;li&gt;Sorting on the &lt;b&gt;TRANSACTION&lt;/b&gt; metric will no longer support ascending order; only descending order will be supported&lt;/li&gt;&lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; will only support a 90-day query range from October 4, 2021 until early January 2022, at which time it will again support a two year query range.&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;&lt;!-- Sort order for a collection of resources: Specify the metric value to be sorted. Allowed values are from DataMetricEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:SortField (optional)
     *
     * @throws \TNT\Ebay\Sell\Analytics\V1\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     *
     * @return \TNT\Ebay\Sell\Analytics\V1\Model\Report
     */
    public function getTrafficReport($dimension = null, $filter = null, $metric = null, $sort = null)
    {
        [$response] = $this->getTrafficReportWithHttpInfo($dimension, $filter, $metric, $sort);

        return $response;
    }

    /**
     * Operation getTrafficReportWithHttpInfo.
     *
     * @param string $dimension This query parameter specifies the &lt;i&gt;dimension&lt;/i&gt;, or \&quot;attribute,\&quot; that is applied to the report &lt;b&gt;metric&lt;/b&gt;.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;code&gt;DAY&lt;/code&gt; or &lt;code&gt;LISTING&lt;/code&gt;  &lt;br&gt;&lt;br&gt;&lt;b&gt;Examples&lt;/b&gt; &lt;ul&gt;&lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;DAY&lt;/code&gt; and &lt;code&gt;metric&#x3D;CLICK_THROUGH_RATE&lt;/code&gt;, the traffic report contains the number of times an item displayed on a search results page and the buyer clicked through to the View Item page for each day in the date range, as in: &lt;br&gt;&lt;code&gt;12-06-17: 32, 12-07-17: 54, ...&lt;/code&gt;&lt;/li&gt; &lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;LISTING&lt;/code&gt; and &lt;code&gt;metric&#x3D;LISTING_IMPRESSION_STORE&lt;/code&gt;, the traffic report contains the number of times that listing appeared on the seller&#39;s store during the specified date range. &lt;br&gt;&lt;br&gt;For example, &lt;code&gt;LISTING_IMPRESSION_STORE: 157&lt;/code&gt; means the item appeared 157 times in the store during the date range.&lt;/li&gt;&lt;/ul&gt; &lt;!-- Dimension - Enables user to specify input to slice the data that the user is interested in - For example specify listing and days as dimensions to get traffic report for all the sellers listings grouped by listing and days. Refer to DimensionEnum) --&gt; (optional)
     * @param string $filter    This query parameter refines the information returned in the traffic report.  &lt;br&gt;&lt;br&gt;Configure the following properties of the &lt;b&gt;filter&lt;/b&gt; parameter to tune the traffic report to your needs: &lt;ul&gt; &lt;li&gt;&lt;b&gt;date_range&lt;/b&gt; &lt;br&gt;Limits the report to the specified range of dates.  &lt;br&gt;&lt;br&gt;Format the date range by enclosing the earliest date and end date for the report in brackets (\&quot;&lt;code&gt;[ ]&lt;/code&gt;\&quot;), as follows: &lt;br&gt;&lt;code&gt;[YYYYMMDD..YYYYMMDD]&lt;/code&gt;  &lt;br&gt;&lt;br&gt;The maximum range between the start and end dates is 90 days, and the earliest start date you can specify is two years prior to the current date, which is defined as 730 days (365 &amp;#42; 2), not accounting for Leap Year.  &lt;br&gt;&lt;br&gt;&lt;a name&#x3D;\&quot;lastUDate\&quot;&gt;&lt;/a&gt;The last date for which traffic data exists is a value called &lt;b&gt;lastUpdatedDate&lt;/b&gt;. eBay returns an error if you specify a date range greater than 90 days, or the start date is after the lastUpdatedDate. If the specified end date is beyond the lastUpdatedDate, eBay returns data up to the lastUpdatedDate.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Required:&lt;/b&gt; Always&lt;/li&gt; &lt;li&gt;&lt;b&gt;listing_ids&lt;/b&gt; &lt;br&gt;This filter limits the results to only the supplied list of &lt;b&gt;listingId&lt;/b&gt; values. &lt;br&gt;&lt;br&gt;You can specify to 200 different &lt;b&gt;listingId&lt;/b&gt; values. Enclose the list of IDs with curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;), and separate multiple values with a pipe character (\&quot;&lt;code&gt;|&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;This filter only returns data for listings that have been either active or sold in last 90 days, and any unsold listings in the last 30 days. All listings must be the seller&#39;s and they  must be listed on the marketplace specified by the &lt;b&gt;marketplace_ids&lt;/b&gt; filter argument.&lt;/li&gt; &lt;li&gt;&lt;b&gt;marketplace_ids&lt;/b&gt; &lt;br&gt;This filter limits the report to seller data related to only the specified marketplace ID (currently the filter allows only a single marketplace ID). Enclose the marketplace ID in curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;ul class&#x3D;\&quot;compact\&quot;&gt;&lt;li&gt;&lt;code&gt;EBAY_AU&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_DE&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_GB&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_US&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_MOTORS&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Required if&lt;/b&gt; you set the &lt;b&gt;dimension&lt;/b&gt; parameter to &lt;code&gt;DAY&lt;/code&gt;.&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Example filter parameter&lt;/b&gt; &lt;br&gt;The following example shows how to configure the &lt;b&gt;filter&lt;/b&gt; parameter with the &lt;b&gt;marketplace_ids&lt;/b&gt; and &lt;b&gt;date_range&lt;/b&gt; filters: &lt;p&gt;&lt;code&gt;filter&#x3D;marketplace_ids:{EBAY_US},date_range:[20170601..20170828]&lt;/code&gt; &lt;p&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note: &lt;/b&gt; You must URL encode all the values you supply in the &lt;b&gt;filter&lt;/b&gt; parameter, as described in &lt;a href&#x3D;\&quot;/api-docs/static/rest-request-components.html#parameters\&quot;&gt;URL parameters&lt;/a&gt;.&lt;/span&gt;&lt;/p&gt; &lt;!-- **Filter results based on the specified filter parameters- window_days (WindowDaysEnum), date_range, marketplace_id (MarketplaceIdEnum - Only EBAY_US, EBAY_MOTORS_US, EBAY_GB, EBAY_AU, EBAY_DE are supported), listing_ids, traffic_source (Takes a list. Supported values: ORGANIC, PROMOTED_LISTINGS). Valid filters come from QueryParamEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:FilterField (optional)
     * @param string $metric    &lt;a name&#x3D;\&quot;metrics\&quot;&gt;&lt;/a&gt;This query parameter specifies the metrics you want covered in the report.  &lt;br&gt;&lt;br&gt;Specify a comma-separated list of the metrics you want included in the report.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt;&lt;ul&gt; &lt;li&gt;&lt;b&gt;CLICK_THROUGH_RATE&lt;/b&gt;  &lt;br&gt;The number of times an item displays on the search results page divided by the number of times buyers clicked through to its View Item page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Click through rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;/b&gt; &lt;br&gt;The number of times the seller&#39;s listings displayed on the search results page. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_STORE &lt;/b&gt; &lt;br&gt; The number of times the seller&#39;s listings displayed on the seller&#39;s store. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_TOTAL&lt;/b&gt;  &lt;br&gt; The total number of times the seller&#39;s listings displayed on the search results page OR in the seller&#39;s store. The item is counted each time it displays on either page. However, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;This is a combination of:  LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;b&gt;+&lt;/b&gt; LISTING_IMPRESSION_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total listing impressions&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; &lt;br&gt; The number of times a View Item page was directly accessed, such as when a buyer navigates to the page using a bookmark.&lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Direct views&lt;/li&gt; &lt;li&gt;&lt;b&gt; LISTING_VIEWS_SOURCE_OFF_EBAY&lt;/b&gt;  &lt;br&gt;The number of times a View Item page was accessed via a site other than eBay, such as when a buyer clicks on a link to the listing from a search engine page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Off eBay views&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed from an eBay page that is not either the search results page or the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt;Views from non-search and non-store pages within eBay&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE&lt;/b&gt;  &lt;br&gt; The number of times the item displayed on the search results page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views on the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_STORE&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed via the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_TOTAL &lt;/b&gt; &lt;br&gt; Total number of listings viewed. &lt;br&gt;This number sums: &lt;br&gt;LISTING_VIEWS_SOURCE_DIRECT &lt;br&gt; LISTING_VIEWS_SOURCE_OFF_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE &lt;br&gt;LISTING_VIEWS_SOURCE_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total views&lt;/li&gt; &lt;li&gt;&lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; &lt;br&gt;The number of completed transactions divided by the number of View Item page views. Equals: &lt;br&gt;TRANSACTION &lt;b&gt;/&lt;/b&gt; LISTING_VIEWS_TOTAL &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Sales conversion rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;TRANSACTION&lt;/b&gt;  &lt;br&gt;The total number of completed transactions. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Transaction count&lt;/li&gt;&lt;/ul&gt; &lt;!-- Metric - Lets the user specify the list of fields that they would like to see in the report. Allowed values: LISTING_IMPRESSION_SEARCH_RESULTS_PAGE, LISTING_IMPRESSION_STORE, LISTING_IMPRESSION_TOTAL, LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE, LISTING_VIEWS_SOURCE_STORE, LISTING_VIEWS_SOURCE_DIRECT, LISTING_VIEWS_SOURCE_OTHER_EBAY, LISTING_VIEWS_SOURCE_OFF_EBAY, LISTING_VIEWS_TOTAL, TRANSACTION_TOTAL, CLICK_THROUGH_RATE, SALES_CONVERSION_RATE (DataMetricEnum) --&gt; (optional)
     * @param string $sort      This query parameter sorts the report on the specified metric.  &lt;br&gt;&lt;br&gt;The metric you specify must be included in the configuration of the report&#39;s &lt;a href&#x3D;\&quot;#metrics\&quot;&gt;metric&lt;/a&gt; parameter.  &lt;br&gt;&lt;br&gt;Sorting is helpful when you want to review how a specific metric is performing, such as the CLICK_THROUGH_RATE.  &lt;br&gt;&lt;br&gt;Reports can be sorted in ascending or descending order. Precede the value of a descending-order request with a minus sign (\&quot;&lt;code&gt;-&lt;/code&gt;\&quot;), for example: &lt;code&gt;sort&#x3D;-CLICK_THROUGH_RATE&lt;/code&gt;.&lt;br /&gt;&lt;br /&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note:&lt;/b&gt; Beginning on October 4, 2021, the options for the following &lt;b&gt;metric&lt;/b&gt; inputs will change:&lt;ul&gt;&lt;li&gt;Sorting on the &lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; metric will no longer be supported&lt;/li&gt;&lt;li&gt;Sorting on the &lt;b&gt;TRANSACTION&lt;/b&gt; metric will no longer support ascending order; only descending order will be supported&lt;/li&gt;&lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; will only support a 90-day query range from October 4, 2021 until early January 2022, at which time it will again support a two year query range.&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;&lt;!-- Sort order for a collection of resources: Specify the metric value to be sorted. Allowed values are from DataMetricEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:SortField (optional)
     *
     * @throws \TNT\Ebay\Sell\Analytics\V1\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     *
     * @return array of \TNT\Ebay\Sell\Analytics\V1\Model\Report, HTTP status code, HTTP response headers (array of strings)
     */
    public function getTrafficReportWithHttpInfo($dimension = null, $filter = null, $metric = null, $sort = null)
    {
        $request = $this->getTrafficReportRequest($dimension, $filter, $metric, $sort);

        try {
            $options = $this->createHttpClientOption();

            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException("[{$e->getCode()}] {$e->getMessage()}", (int) $e->getCode(), $e->getResponse() ? $e->getResponse()->getHeaders() : null, $e->getResponse() ? (string) $e->getResponse()->getBody() : null);
            } catch (ConnectException $e) {
                throw new ApiException("[{$e->getCode()}] {$e->getMessage()}", (int) $e->getCode(), null, null);
            }

            $statusCode = $response->getStatusCode();

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(sprintf('[%d] Error connecting to the API (%s)', $statusCode, (string) $request->getUri()), $statusCode, $response->getHeaders(), (string) $response->getBody());
            }

            switch ($statusCode) {
                case 200:
                    if ('\TNT\Ebay\Sell\Analytics\V1\Model\Report' === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                    }

                    return [
                        ObjectSerializer::deserialize($content, '\TNT\Ebay\Sell\Analytics\V1\Model\Report', []),
                        $response->getStatusCode(),
                        $response->getHeaders(),
                    ];
            }

            $returnType = '\TNT\Ebay\Sell\Analytics\V1\Model\Report';

            if ($returnType === '\SplFileObject') {
                $content = $response->getBody(); //stream goes to serializer
            } else {
                $content = (string) $response->getBody();
            }

            return [
                ObjectSerializer::deserialize($content, $returnType, []),
                $response->getStatusCode(),
                $response->getHeaders(),
            ];
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\TNT\Ebay\Sell\Analytics\V1\Model\Report',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    break;
            }
            throw $e;
        }
    }

    /**
     * Operation getTrafficReportAsync.
     *
     * @param string $dimension This query parameter specifies the &lt;i&gt;dimension&lt;/i&gt;, or \&quot;attribute,\&quot; that is applied to the report &lt;b&gt;metric&lt;/b&gt;.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;code&gt;DAY&lt;/code&gt; or &lt;code&gt;LISTING&lt;/code&gt;  &lt;br&gt;&lt;br&gt;&lt;b&gt;Examples&lt;/b&gt; &lt;ul&gt;&lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;DAY&lt;/code&gt; and &lt;code&gt;metric&#x3D;CLICK_THROUGH_RATE&lt;/code&gt;, the traffic report contains the number of times an item displayed on a search results page and the buyer clicked through to the View Item page for each day in the date range, as in: &lt;br&gt;&lt;code&gt;12-06-17: 32, 12-07-17: 54, ...&lt;/code&gt;&lt;/li&gt; &lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;LISTING&lt;/code&gt; and &lt;code&gt;metric&#x3D;LISTING_IMPRESSION_STORE&lt;/code&gt;, the traffic report contains the number of times that listing appeared on the seller&#39;s store during the specified date range. &lt;br&gt;&lt;br&gt;For example, &lt;code&gt;LISTING_IMPRESSION_STORE: 157&lt;/code&gt; means the item appeared 157 times in the store during the date range.&lt;/li&gt;&lt;/ul&gt; &lt;!-- Dimension - Enables user to specify input to slice the data that the user is interested in - For example specify listing and days as dimensions to get traffic report for all the sellers listings grouped by listing and days. Refer to DimensionEnum) --&gt; (optional)
     * @param string $filter    This query parameter refines the information returned in the traffic report.  &lt;br&gt;&lt;br&gt;Configure the following properties of the &lt;b&gt;filter&lt;/b&gt; parameter to tune the traffic report to your needs: &lt;ul&gt; &lt;li&gt;&lt;b&gt;date_range&lt;/b&gt; &lt;br&gt;Limits the report to the specified range of dates.  &lt;br&gt;&lt;br&gt;Format the date range by enclosing the earliest date and end date for the report in brackets (\&quot;&lt;code&gt;[ ]&lt;/code&gt;\&quot;), as follows: &lt;br&gt;&lt;code&gt;[YYYYMMDD..YYYYMMDD]&lt;/code&gt;  &lt;br&gt;&lt;br&gt;The maximum range between the start and end dates is 90 days, and the earliest start date you can specify is two years prior to the current date, which is defined as 730 days (365 &amp;#42; 2), not accounting for Leap Year.  &lt;br&gt;&lt;br&gt;&lt;a name&#x3D;\&quot;lastUDate\&quot;&gt;&lt;/a&gt;The last date for which traffic data exists is a value called &lt;b&gt;lastUpdatedDate&lt;/b&gt;. eBay returns an error if you specify a date range greater than 90 days, or the start date is after the lastUpdatedDate. If the specified end date is beyond the lastUpdatedDate, eBay returns data up to the lastUpdatedDate.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Required:&lt;/b&gt; Always&lt;/li&gt; &lt;li&gt;&lt;b&gt;listing_ids&lt;/b&gt; &lt;br&gt;This filter limits the results to only the supplied list of &lt;b&gt;listingId&lt;/b&gt; values. &lt;br&gt;&lt;br&gt;You can specify to 200 different &lt;b&gt;listingId&lt;/b&gt; values. Enclose the list of IDs with curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;), and separate multiple values with a pipe character (\&quot;&lt;code&gt;|&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;This filter only returns data for listings that have been either active or sold in last 90 days, and any unsold listings in the last 30 days. All listings must be the seller&#39;s and they  must be listed on the marketplace specified by the &lt;b&gt;marketplace_ids&lt;/b&gt; filter argument.&lt;/li&gt; &lt;li&gt;&lt;b&gt;marketplace_ids&lt;/b&gt; &lt;br&gt;This filter limits the report to seller data related to only the specified marketplace ID (currently the filter allows only a single marketplace ID). Enclose the marketplace ID in curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;ul class&#x3D;\&quot;compact\&quot;&gt;&lt;li&gt;&lt;code&gt;EBAY_AU&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_DE&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_GB&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_US&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_MOTORS&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Required if&lt;/b&gt; you set the &lt;b&gt;dimension&lt;/b&gt; parameter to &lt;code&gt;DAY&lt;/code&gt;.&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Example filter parameter&lt;/b&gt; &lt;br&gt;The following example shows how to configure the &lt;b&gt;filter&lt;/b&gt; parameter with the &lt;b&gt;marketplace_ids&lt;/b&gt; and &lt;b&gt;date_range&lt;/b&gt; filters: &lt;p&gt;&lt;code&gt;filter&#x3D;marketplace_ids:{EBAY_US},date_range:[20170601..20170828]&lt;/code&gt; &lt;p&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note: &lt;/b&gt; You must URL encode all the values you supply in the &lt;b&gt;filter&lt;/b&gt; parameter, as described in &lt;a href&#x3D;\&quot;/api-docs/static/rest-request-components.html#parameters\&quot;&gt;URL parameters&lt;/a&gt;.&lt;/span&gt;&lt;/p&gt; &lt;!-- **Filter results based on the specified filter parameters- window_days (WindowDaysEnum), date_range, marketplace_id (MarketplaceIdEnum - Only EBAY_US, EBAY_MOTORS_US, EBAY_GB, EBAY_AU, EBAY_DE are supported), listing_ids, traffic_source (Takes a list. Supported values: ORGANIC, PROMOTED_LISTINGS). Valid filters come from QueryParamEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:FilterField (optional)
     * @param string $metric    &lt;a name&#x3D;\&quot;metrics\&quot;&gt;&lt;/a&gt;This query parameter specifies the metrics you want covered in the report.  &lt;br&gt;&lt;br&gt;Specify a comma-separated list of the metrics you want included in the report.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt;&lt;ul&gt; &lt;li&gt;&lt;b&gt;CLICK_THROUGH_RATE&lt;/b&gt;  &lt;br&gt;The number of times an item displays on the search results page divided by the number of times buyers clicked through to its View Item page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Click through rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;/b&gt; &lt;br&gt;The number of times the seller&#39;s listings displayed on the search results page. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_STORE &lt;/b&gt; &lt;br&gt; The number of times the seller&#39;s listings displayed on the seller&#39;s store. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_TOTAL&lt;/b&gt;  &lt;br&gt; The total number of times the seller&#39;s listings displayed on the search results page OR in the seller&#39;s store. The item is counted each time it displays on either page. However, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;This is a combination of:  LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;b&gt;+&lt;/b&gt; LISTING_IMPRESSION_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total listing impressions&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; &lt;br&gt; The number of times a View Item page was directly accessed, such as when a buyer navigates to the page using a bookmark.&lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Direct views&lt;/li&gt; &lt;li&gt;&lt;b&gt; LISTING_VIEWS_SOURCE_OFF_EBAY&lt;/b&gt;  &lt;br&gt;The number of times a View Item page was accessed via a site other than eBay, such as when a buyer clicks on a link to the listing from a search engine page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Off eBay views&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed from an eBay page that is not either the search results page or the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt;Views from non-search and non-store pages within eBay&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE&lt;/b&gt;  &lt;br&gt; The number of times the item displayed on the search results page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views on the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_STORE&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed via the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_TOTAL &lt;/b&gt; &lt;br&gt; Total number of listings viewed. &lt;br&gt;This number sums: &lt;br&gt;LISTING_VIEWS_SOURCE_DIRECT &lt;br&gt; LISTING_VIEWS_SOURCE_OFF_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE &lt;br&gt;LISTING_VIEWS_SOURCE_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total views&lt;/li&gt; &lt;li&gt;&lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; &lt;br&gt;The number of completed transactions divided by the number of View Item page views. Equals: &lt;br&gt;TRANSACTION &lt;b&gt;/&lt;/b&gt; LISTING_VIEWS_TOTAL &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Sales conversion rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;TRANSACTION&lt;/b&gt;  &lt;br&gt;The total number of completed transactions. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Transaction count&lt;/li&gt;&lt;/ul&gt; &lt;!-- Metric - Lets the user specify the list of fields that they would like to see in the report. Allowed values: LISTING_IMPRESSION_SEARCH_RESULTS_PAGE, LISTING_IMPRESSION_STORE, LISTING_IMPRESSION_TOTAL, LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE, LISTING_VIEWS_SOURCE_STORE, LISTING_VIEWS_SOURCE_DIRECT, LISTING_VIEWS_SOURCE_OTHER_EBAY, LISTING_VIEWS_SOURCE_OFF_EBAY, LISTING_VIEWS_TOTAL, TRANSACTION_TOTAL, CLICK_THROUGH_RATE, SALES_CONVERSION_RATE (DataMetricEnum) --&gt; (optional)
     * @param string $sort      This query parameter sorts the report on the specified metric.  &lt;br&gt;&lt;br&gt;The metric you specify must be included in the configuration of the report&#39;s &lt;a href&#x3D;\&quot;#metrics\&quot;&gt;metric&lt;/a&gt; parameter.  &lt;br&gt;&lt;br&gt;Sorting is helpful when you want to review how a specific metric is performing, such as the CLICK_THROUGH_RATE.  &lt;br&gt;&lt;br&gt;Reports can be sorted in ascending or descending order. Precede the value of a descending-order request with a minus sign (\&quot;&lt;code&gt;-&lt;/code&gt;\&quot;), for example: &lt;code&gt;sort&#x3D;-CLICK_THROUGH_RATE&lt;/code&gt;.&lt;br /&gt;&lt;br /&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note:&lt;/b&gt; Beginning on October 4, 2021, the options for the following &lt;b&gt;metric&lt;/b&gt; inputs will change:&lt;ul&gt;&lt;li&gt;Sorting on the &lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; metric will no longer be supported&lt;/li&gt;&lt;li&gt;Sorting on the &lt;b&gt;TRANSACTION&lt;/b&gt; metric will no longer support ascending order; only descending order will be supported&lt;/li&gt;&lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; will only support a 90-day query range from October 4, 2021 until early January 2022, at which time it will again support a two year query range.&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;&lt;!-- Sort order for a collection of resources: Specify the metric value to be sorted. Allowed values are from DataMetricEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:SortField (optional)
     *
     * @throws \InvalidArgumentException
     *
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getTrafficReportAsync($dimension = null, $filter = null, $metric = null, $sort = null)
    {
        return $this->getTrafficReportAsyncWithHttpInfo($dimension, $filter, $metric, $sort)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getTrafficReportAsyncWithHttpInfo.
     *
     * @param string $dimension This query parameter specifies the &lt;i&gt;dimension&lt;/i&gt;, or \&quot;attribute,\&quot; that is applied to the report &lt;b&gt;metric&lt;/b&gt;.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;code&gt;DAY&lt;/code&gt; or &lt;code&gt;LISTING&lt;/code&gt;  &lt;br&gt;&lt;br&gt;&lt;b&gt;Examples&lt;/b&gt; &lt;ul&gt;&lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;DAY&lt;/code&gt; and &lt;code&gt;metric&#x3D;CLICK_THROUGH_RATE&lt;/code&gt;, the traffic report contains the number of times an item displayed on a search results page and the buyer clicked through to the View Item page for each day in the date range, as in: &lt;br&gt;&lt;code&gt;12-06-17: 32, 12-07-17: 54, ...&lt;/code&gt;&lt;/li&gt; &lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;LISTING&lt;/code&gt; and &lt;code&gt;metric&#x3D;LISTING_IMPRESSION_STORE&lt;/code&gt;, the traffic report contains the number of times that listing appeared on the seller&#39;s store during the specified date range. &lt;br&gt;&lt;br&gt;For example, &lt;code&gt;LISTING_IMPRESSION_STORE: 157&lt;/code&gt; means the item appeared 157 times in the store during the date range.&lt;/li&gt;&lt;/ul&gt; &lt;!-- Dimension - Enables user to specify input to slice the data that the user is interested in - For example specify listing and days as dimensions to get traffic report for all the sellers listings grouped by listing and days. Refer to DimensionEnum) --&gt; (optional)
     * @param string $filter    This query parameter refines the information returned in the traffic report.  &lt;br&gt;&lt;br&gt;Configure the following properties of the &lt;b&gt;filter&lt;/b&gt; parameter to tune the traffic report to your needs: &lt;ul&gt; &lt;li&gt;&lt;b&gt;date_range&lt;/b&gt; &lt;br&gt;Limits the report to the specified range of dates.  &lt;br&gt;&lt;br&gt;Format the date range by enclosing the earliest date and end date for the report in brackets (\&quot;&lt;code&gt;[ ]&lt;/code&gt;\&quot;), as follows: &lt;br&gt;&lt;code&gt;[YYYYMMDD..YYYYMMDD]&lt;/code&gt;  &lt;br&gt;&lt;br&gt;The maximum range between the start and end dates is 90 days, and the earliest start date you can specify is two years prior to the current date, which is defined as 730 days (365 &amp;#42; 2), not accounting for Leap Year.  &lt;br&gt;&lt;br&gt;&lt;a name&#x3D;\&quot;lastUDate\&quot;&gt;&lt;/a&gt;The last date for which traffic data exists is a value called &lt;b&gt;lastUpdatedDate&lt;/b&gt;. eBay returns an error if you specify a date range greater than 90 days, or the start date is after the lastUpdatedDate. If the specified end date is beyond the lastUpdatedDate, eBay returns data up to the lastUpdatedDate.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Required:&lt;/b&gt; Always&lt;/li&gt; &lt;li&gt;&lt;b&gt;listing_ids&lt;/b&gt; &lt;br&gt;This filter limits the results to only the supplied list of &lt;b&gt;listingId&lt;/b&gt; values. &lt;br&gt;&lt;br&gt;You can specify to 200 different &lt;b&gt;listingId&lt;/b&gt; values. Enclose the list of IDs with curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;), and separate multiple values with a pipe character (\&quot;&lt;code&gt;|&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;This filter only returns data for listings that have been either active or sold in last 90 days, and any unsold listings in the last 30 days. All listings must be the seller&#39;s and they  must be listed on the marketplace specified by the &lt;b&gt;marketplace_ids&lt;/b&gt; filter argument.&lt;/li&gt; &lt;li&gt;&lt;b&gt;marketplace_ids&lt;/b&gt; &lt;br&gt;This filter limits the report to seller data related to only the specified marketplace ID (currently the filter allows only a single marketplace ID). Enclose the marketplace ID in curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;ul class&#x3D;\&quot;compact\&quot;&gt;&lt;li&gt;&lt;code&gt;EBAY_AU&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_DE&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_GB&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_US&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_MOTORS&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Required if&lt;/b&gt; you set the &lt;b&gt;dimension&lt;/b&gt; parameter to &lt;code&gt;DAY&lt;/code&gt;.&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Example filter parameter&lt;/b&gt; &lt;br&gt;The following example shows how to configure the &lt;b&gt;filter&lt;/b&gt; parameter with the &lt;b&gt;marketplace_ids&lt;/b&gt; and &lt;b&gt;date_range&lt;/b&gt; filters: &lt;p&gt;&lt;code&gt;filter&#x3D;marketplace_ids:{EBAY_US},date_range:[20170601..20170828]&lt;/code&gt; &lt;p&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note: &lt;/b&gt; You must URL encode all the values you supply in the &lt;b&gt;filter&lt;/b&gt; parameter, as described in &lt;a href&#x3D;\&quot;/api-docs/static/rest-request-components.html#parameters\&quot;&gt;URL parameters&lt;/a&gt;.&lt;/span&gt;&lt;/p&gt; &lt;!-- **Filter results based on the specified filter parameters- window_days (WindowDaysEnum), date_range, marketplace_id (MarketplaceIdEnum - Only EBAY_US, EBAY_MOTORS_US, EBAY_GB, EBAY_AU, EBAY_DE are supported), listing_ids, traffic_source (Takes a list. Supported values: ORGANIC, PROMOTED_LISTINGS). Valid filters come from QueryParamEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:FilterField (optional)
     * @param string $metric    &lt;a name&#x3D;\&quot;metrics\&quot;&gt;&lt;/a&gt;This query parameter specifies the metrics you want covered in the report.  &lt;br&gt;&lt;br&gt;Specify a comma-separated list of the metrics you want included in the report.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt;&lt;ul&gt; &lt;li&gt;&lt;b&gt;CLICK_THROUGH_RATE&lt;/b&gt;  &lt;br&gt;The number of times an item displays on the search results page divided by the number of times buyers clicked through to its View Item page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Click through rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;/b&gt; &lt;br&gt;The number of times the seller&#39;s listings displayed on the search results page. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_STORE &lt;/b&gt; &lt;br&gt; The number of times the seller&#39;s listings displayed on the seller&#39;s store. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_TOTAL&lt;/b&gt;  &lt;br&gt; The total number of times the seller&#39;s listings displayed on the search results page OR in the seller&#39;s store. The item is counted each time it displays on either page. However, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;This is a combination of:  LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;b&gt;+&lt;/b&gt; LISTING_IMPRESSION_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total listing impressions&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; &lt;br&gt; The number of times a View Item page was directly accessed, such as when a buyer navigates to the page using a bookmark.&lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Direct views&lt;/li&gt; &lt;li&gt;&lt;b&gt; LISTING_VIEWS_SOURCE_OFF_EBAY&lt;/b&gt;  &lt;br&gt;The number of times a View Item page was accessed via a site other than eBay, such as when a buyer clicks on a link to the listing from a search engine page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Off eBay views&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed from an eBay page that is not either the search results page or the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt;Views from non-search and non-store pages within eBay&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE&lt;/b&gt;  &lt;br&gt; The number of times the item displayed on the search results page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views on the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_STORE&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed via the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_TOTAL &lt;/b&gt; &lt;br&gt; Total number of listings viewed. &lt;br&gt;This number sums: &lt;br&gt;LISTING_VIEWS_SOURCE_DIRECT &lt;br&gt; LISTING_VIEWS_SOURCE_OFF_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE &lt;br&gt;LISTING_VIEWS_SOURCE_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total views&lt;/li&gt; &lt;li&gt;&lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; &lt;br&gt;The number of completed transactions divided by the number of View Item page views. Equals: &lt;br&gt;TRANSACTION &lt;b&gt;/&lt;/b&gt; LISTING_VIEWS_TOTAL &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Sales conversion rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;TRANSACTION&lt;/b&gt;  &lt;br&gt;The total number of completed transactions. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Transaction count&lt;/li&gt;&lt;/ul&gt; &lt;!-- Metric - Lets the user specify the list of fields that they would like to see in the report. Allowed values: LISTING_IMPRESSION_SEARCH_RESULTS_PAGE, LISTING_IMPRESSION_STORE, LISTING_IMPRESSION_TOTAL, LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE, LISTING_VIEWS_SOURCE_STORE, LISTING_VIEWS_SOURCE_DIRECT, LISTING_VIEWS_SOURCE_OTHER_EBAY, LISTING_VIEWS_SOURCE_OFF_EBAY, LISTING_VIEWS_TOTAL, TRANSACTION_TOTAL, CLICK_THROUGH_RATE, SALES_CONVERSION_RATE (DataMetricEnum) --&gt; (optional)
     * @param string $sort      This query parameter sorts the report on the specified metric.  &lt;br&gt;&lt;br&gt;The metric you specify must be included in the configuration of the report&#39;s &lt;a href&#x3D;\&quot;#metrics\&quot;&gt;metric&lt;/a&gt; parameter.  &lt;br&gt;&lt;br&gt;Sorting is helpful when you want to review how a specific metric is performing, such as the CLICK_THROUGH_RATE.  &lt;br&gt;&lt;br&gt;Reports can be sorted in ascending or descending order. Precede the value of a descending-order request with a minus sign (\&quot;&lt;code&gt;-&lt;/code&gt;\&quot;), for example: &lt;code&gt;sort&#x3D;-CLICK_THROUGH_RATE&lt;/code&gt;.&lt;br /&gt;&lt;br /&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note:&lt;/b&gt; Beginning on October 4, 2021, the options for the following &lt;b&gt;metric&lt;/b&gt; inputs will change:&lt;ul&gt;&lt;li&gt;Sorting on the &lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; metric will no longer be supported&lt;/li&gt;&lt;li&gt;Sorting on the &lt;b&gt;TRANSACTION&lt;/b&gt; metric will no longer support ascending order; only descending order will be supported&lt;/li&gt;&lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; will only support a 90-day query range from October 4, 2021 until early January 2022, at which time it will again support a two year query range.&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;&lt;!-- Sort order for a collection of resources: Specify the metric value to be sorted. Allowed values are from DataMetricEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:SortField (optional)
     *
     * @throws \InvalidArgumentException
     *
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getTrafficReportAsyncWithHttpInfo($dimension = null, $filter = null, $metric = null, $sort = null)
    {
        $returnType = '\TNT\Ebay\Sell\Analytics\V1\Model\Report';
        $request = $this->getTrafficReportRequest($dimension, $filter, $metric, $sort);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders(),
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();

                    throw new ApiException(sprintf('[%d] Error connecting to the API (%s)', $statusCode, $exception->getRequest()->getUri()), $statusCode, $response->getHeaders(), (string) $response->getBody());
                }
            );
    }

    /**
     * Create request for operation 'getTrafficReport'.
     *
     * @param string $dimension This query parameter specifies the &lt;i&gt;dimension&lt;/i&gt;, or \&quot;attribute,\&quot; that is applied to the report &lt;b&gt;metric&lt;/b&gt;.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;code&gt;DAY&lt;/code&gt; or &lt;code&gt;LISTING&lt;/code&gt;  &lt;br&gt;&lt;br&gt;&lt;b&gt;Examples&lt;/b&gt; &lt;ul&gt;&lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;DAY&lt;/code&gt; and &lt;code&gt;metric&#x3D;CLICK_THROUGH_RATE&lt;/code&gt;, the traffic report contains the number of times an item displayed on a search results page and the buyer clicked through to the View Item page for each day in the date range, as in: &lt;br&gt;&lt;code&gt;12-06-17: 32, 12-07-17: 54, ...&lt;/code&gt;&lt;/li&gt; &lt;li&gt;If you specify &lt;code&gt;dimension&#x3D;LISTING&lt;/code&gt; and &lt;code&gt;metric&#x3D;LISTING_IMPRESSION_STORE&lt;/code&gt;, the traffic report contains the number of times that listing appeared on the seller&#39;s store during the specified date range. &lt;br&gt;&lt;br&gt;For example, &lt;code&gt;LISTING_IMPRESSION_STORE: 157&lt;/code&gt; means the item appeared 157 times in the store during the date range.&lt;/li&gt;&lt;/ul&gt; &lt;!-- Dimension - Enables user to specify input to slice the data that the user is interested in - For example specify listing and days as dimensions to get traffic report for all the sellers listings grouped by listing and days. Refer to DimensionEnum) --&gt; (optional)
     * @param string $filter    This query parameter refines the information returned in the traffic report.  &lt;br&gt;&lt;br&gt;Configure the following properties of the &lt;b&gt;filter&lt;/b&gt; parameter to tune the traffic report to your needs: &lt;ul&gt; &lt;li&gt;&lt;b&gt;date_range&lt;/b&gt; &lt;br&gt;Limits the report to the specified range of dates.  &lt;br&gt;&lt;br&gt;Format the date range by enclosing the earliest date and end date for the report in brackets (\&quot;&lt;code&gt;[ ]&lt;/code&gt;\&quot;), as follows: &lt;br&gt;&lt;code&gt;[YYYYMMDD..YYYYMMDD]&lt;/code&gt;  &lt;br&gt;&lt;br&gt;The maximum range between the start and end dates is 90 days, and the earliest start date you can specify is two years prior to the current date, which is defined as 730 days (365 &amp;#42; 2), not accounting for Leap Year.  &lt;br&gt;&lt;br&gt;&lt;a name&#x3D;\&quot;lastUDate\&quot;&gt;&lt;/a&gt;The last date for which traffic data exists is a value called &lt;b&gt;lastUpdatedDate&lt;/b&gt;. eBay returns an error if you specify a date range greater than 90 days, or the start date is after the lastUpdatedDate. If the specified end date is beyond the lastUpdatedDate, eBay returns data up to the lastUpdatedDate.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Required:&lt;/b&gt; Always&lt;/li&gt; &lt;li&gt;&lt;b&gt;listing_ids&lt;/b&gt; &lt;br&gt;This filter limits the results to only the supplied list of &lt;b&gt;listingId&lt;/b&gt; values. &lt;br&gt;&lt;br&gt;You can specify to 200 different &lt;b&gt;listingId&lt;/b&gt; values. Enclose the list of IDs with curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;), and separate multiple values with a pipe character (\&quot;&lt;code&gt;|&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;This filter only returns data for listings that have been either active or sold in last 90 days, and any unsold listings in the last 30 days. All listings must be the seller&#39;s and they  must be listed on the marketplace specified by the &lt;b&gt;marketplace_ids&lt;/b&gt; filter argument.&lt;/li&gt; &lt;li&gt;&lt;b&gt;marketplace_ids&lt;/b&gt; &lt;br&gt;This filter limits the report to seller data related to only the specified marketplace ID (currently the filter allows only a single marketplace ID). Enclose the marketplace ID in curly braces (\&quot;&lt;code&gt;{ }&lt;/code&gt;\&quot;).  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt; &lt;ul class&#x3D;\&quot;compact\&quot;&gt;&lt;li&gt;&lt;code&gt;EBAY_AU&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_DE&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_GB&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_US&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;EBAY_MOTORS&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Required if&lt;/b&gt; you set the &lt;b&gt;dimension&lt;/b&gt; parameter to &lt;code&gt;DAY&lt;/code&gt;.&lt;/li&gt;&lt;/ul&gt; &lt;br&gt;&lt;b&gt;Example filter parameter&lt;/b&gt; &lt;br&gt;The following example shows how to configure the &lt;b&gt;filter&lt;/b&gt; parameter with the &lt;b&gt;marketplace_ids&lt;/b&gt; and &lt;b&gt;date_range&lt;/b&gt; filters: &lt;p&gt;&lt;code&gt;filter&#x3D;marketplace_ids:{EBAY_US},date_range:[20170601..20170828]&lt;/code&gt; &lt;p&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note: &lt;/b&gt; You must URL encode all the values you supply in the &lt;b&gt;filter&lt;/b&gt; parameter, as described in &lt;a href&#x3D;\&quot;/api-docs/static/rest-request-components.html#parameters\&quot;&gt;URL parameters&lt;/a&gt;.&lt;/span&gt;&lt;/p&gt; &lt;!-- **Filter results based on the specified filter parameters- window_days (WindowDaysEnum), date_range, marketplace_id (MarketplaceIdEnum - Only EBAY_US, EBAY_MOTORS_US, EBAY_GB, EBAY_AU, EBAY_DE are supported), listing_ids, traffic_source (Takes a list. Supported values: ORGANIC, PROMOTED_LISTINGS). Valid filters come from QueryParamEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:FilterField (optional)
     * @param string $metric    &lt;a name&#x3D;\&quot;metrics\&quot;&gt;&lt;/a&gt;This query parameter specifies the metrics you want covered in the report.  &lt;br&gt;&lt;br&gt;Specify a comma-separated list of the metrics you want included in the report.  &lt;br&gt;&lt;br&gt;&lt;b&gt;Valid values:&lt;/b&gt;&lt;ul&gt; &lt;li&gt;&lt;b&gt;CLICK_THROUGH_RATE&lt;/b&gt;  &lt;br&gt;The number of times an item displays on the search results page divided by the number of times buyers clicked through to its View Item page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Click through rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;/b&gt; &lt;br&gt;The number of times the seller&#39;s listings displayed on the search results page. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_STORE &lt;/b&gt; &lt;br&gt; The number of times the seller&#39;s listings displayed on the seller&#39;s store. Note, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Listing impressions from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_IMPRESSION_TOTAL&lt;/b&gt;  &lt;br&gt; The total number of times the seller&#39;s listings displayed on the search results page OR in the seller&#39;s store. The item is counted each time it displays on either page. However, the listing might not have been visible to the buyer due to its position on the page. &lt;br&gt;This is a combination of:  LISTING_IMPRESSION_SEARCH_RESULTS_PAGE &lt;b&gt;+&lt;/b&gt; LISTING_IMPRESSION_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total listing impressions&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; &lt;br&gt; The number of times a View Item page was directly accessed, such as when a buyer navigates to the page using a bookmark.&lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Direct views&lt;/li&gt; &lt;li&gt;&lt;b&gt; LISTING_VIEWS_SOURCE_OFF_EBAY&lt;/b&gt;  &lt;br&gt;The number of times a View Item page was accessed via a site other than eBay, such as when a buyer clicks on a link to the listing from a search engine page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Off eBay views&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed from an eBay page that is not either the search results page or the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt;Views from non-search and non-store pages within eBay&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE&lt;/b&gt;  &lt;br&gt; The number of times the item displayed on the search results page. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views on the search results page&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_STORE&lt;/b&gt;  &lt;br&gt; The number of times a View Item page was accessed via the seller&#39;s store. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Views from your Store&lt;/li&gt; &lt;li&gt;&lt;b&gt;LISTING_VIEWS_TOTAL &lt;/b&gt; &lt;br&gt; Total number of listings viewed. &lt;br&gt;This number sums: &lt;br&gt;LISTING_VIEWS_SOURCE_DIRECT &lt;br&gt; LISTING_VIEWS_SOURCE_OFF_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_OTHER_EBAY &lt;br&gt;LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE &lt;br&gt;LISTING_VIEWS_SOURCE_STORE. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Total views&lt;/li&gt; &lt;li&gt;&lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; &lt;br&gt;The number of completed transactions divided by the number of View Item page views. Equals: &lt;br&gt;TRANSACTION &lt;b&gt;/&lt;/b&gt; LISTING_VIEWS_TOTAL &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Sales conversion rate&lt;/li&gt; &lt;li&gt;&lt;b&gt;TRANSACTION&lt;/b&gt;  &lt;br&gt;The total number of completed transactions. &lt;br&gt;&lt;b&gt;Localized name: &lt;/b&gt; Transaction count&lt;/li&gt;&lt;/ul&gt; &lt;!-- Metric - Lets the user specify the list of fields that they would like to see in the report. Allowed values: LISTING_IMPRESSION_SEARCH_RESULTS_PAGE, LISTING_IMPRESSION_STORE, LISTING_IMPRESSION_TOTAL, LISTING_VIEWS_SOURCE_SEARCH_RESULTS_PAGE, LISTING_VIEWS_SOURCE_STORE, LISTING_VIEWS_SOURCE_DIRECT, LISTING_VIEWS_SOURCE_OTHER_EBAY, LISTING_VIEWS_SOURCE_OFF_EBAY, LISTING_VIEWS_TOTAL, TRANSACTION_TOTAL, CLICK_THROUGH_RATE, SALES_CONVERSION_RATE (DataMetricEnum) --&gt; (optional)
     * @param string $sort      This query parameter sorts the report on the specified metric.  &lt;br&gt;&lt;br&gt;The metric you specify must be included in the configuration of the report&#39;s &lt;a href&#x3D;\&quot;#metrics\&quot;&gt;metric&lt;/a&gt; parameter.  &lt;br&gt;&lt;br&gt;Sorting is helpful when you want to review how a specific metric is performing, such as the CLICK_THROUGH_RATE.  &lt;br&gt;&lt;br&gt;Reports can be sorted in ascending or descending order. Precede the value of a descending-order request with a minus sign (\&quot;&lt;code&gt;-&lt;/code&gt;\&quot;), for example: &lt;code&gt;sort&#x3D;-CLICK_THROUGH_RATE&lt;/code&gt;.&lt;br /&gt;&lt;br /&gt;&lt;span class&#x3D;\&quot;tablenote\&quot;&gt;&lt;b&gt;Note:&lt;/b&gt; Beginning on October 4, 2021, the options for the following &lt;b&gt;metric&lt;/b&gt; inputs will change:&lt;ul&gt;&lt;li&gt;Sorting on the &lt;b&gt;SALES_CONVERSION_RATE&lt;/b&gt; metric will no longer be supported&lt;/li&gt;&lt;li&gt;Sorting on the &lt;b&gt;TRANSACTION&lt;/b&gt; metric will no longer support ascending order; only descending order will be supported&lt;/li&gt;&lt;li&gt;&lt;b&gt;LISTING_VIEWS_SOURCE_DIRECT&lt;/b&gt; will only support a 90-day query range from October 4, 2021 until early January 2022, at which time it will again support a two year query range.&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;&lt;!-- Sort order for a collection of resources: Specify the metric value to be sorted. Allowed values are from DataMetricEnum --&gt; For implementation help, refer to eBay API documentation at https://developer.ebay.com/api-docs/sell/analytics/types/csb:SortField (optional)
     *
     * @throws \InvalidArgumentException
     *
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getTrafficReportRequest($dimension = null, $filter = null, $metric = null, $sort = null)
    {
        $resourcePath = '/traffic_report';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $dimension,
            'dimension', // param base name
            'string', // openApiType
            'form', // style
            true // explode
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $filter,
            'filter', // param base name
            'string', // openApiType
            'form', // style
            true // explode
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $metric,
            'metric', // param base name
            'string', // openApiType
            'form', // style
            true // explode
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort,
            'sort', // param base name
            'string', // openApiType
            'form', // style
            true // explode
        ) ?? []);

        if ($multipart) {
            $headers = $this->headerSelector->selectHeadersForMultipart(
                ['application/json']
            );
        } else {
            $headers = $this->headerSelector->selectHeaders(
                ['application/json'],
                []
            );
        }

        // For model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem,
                        ];
                    }
                }
                // For HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);
            } elseif ($headers['Content-Type'] === 'application/json') {
                $httpBody = \GuzzleHttp\json_encode($formParams);
            } else {
                // For HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($queryParams);
            }
        }

        // this endpoint requires OAuth (access token)
        if (! empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer '.$this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $query = ObjectSerializer::buildQuery($queryParams);

        return new Request(
            'GET',
            $this->config->getHost().$resourcePath.($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Create http client option.
     *
     * @throws \RuntimeException on file opening failure
     *
     * @return array of http client options
     */
    protected function createHttpClientOption()
    {
        $options = [];

        if ($this->config->getDebug()) {
            $options[RequestOptions::DEBUG] = fopen($this->config->getDebugFile(), 'a');

            if (! $options[RequestOptions::DEBUG]) {
                throw new \RuntimeException('Failed to open the debug file: '.$this->config->getDebugFile());
            }
        }

        return $options;
    }
}
